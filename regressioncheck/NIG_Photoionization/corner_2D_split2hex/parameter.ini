! =============================================================================== !
! POSTI
! =============================================================================== !
VisuParticles   = T
NVisu           = 1
TimeStampLength = 21
NodeTypeVisu    = VISU
! =============================================================================== !
! VARIABLES
! =============================================================================== !
CFLscale      = 0.2
IniExactFunc  = 0
N             = 1

DoLoadBalance           = T
Load-DeviationThreshold = 0.001
LoadBalanceMaxSteps     = 20
DoInitialAutoRestart    = T
! =============================================================================== !
! MESH
! =============================================================================== !
MeshFile        = mesh_corner_2D_Split2Hex_mesh.h5
Logging         = F
WriteErrorFiles = F
useCurveds      = F
! if boundaries have to be changed (else they are used from Mesh directly):
TrackingMethod = triatracking
! =============================================================================== !
! OUTPUT / VISUALIZATION
! =============================================================================== !
ProjectName      = raytracing
IterDisplayStep  = 10
Part-AnalyzeStep = 1

CalcNumSpec      = T
CalcNumDens      = T

!CheckExchangeProcs = F ! deactivate the asymmetric communicator check
! =============================================================================== !
! CALCULATION
! =============================================================================== !
ManualTimeStep      = 5.0E-9
tend                = 10.0E-9
Analyze_dt          = 10.0E-9

PIC-DoDeposition    = F

PIC-DoInterpolation = F
Part-LorentzType    = 0

epsCG = 1e-2
Particles-HaloEpsVelo             = 3E7
! =============================================================================== !
! PARTICLES
! =============================================================================== !
Part-nSpecies          = 1
Part-nBounds           = 7

! corner
Part-Boundary1-SourceName  = BC_CORNER
Part-Boundary1-Condition   = reflective
Part-Boundary1-PhotonEnACC = 0.0
Part-Boundary1-PhotonSpecularReflection = T

Part-Boundary2-SourceName  = BC_TOP
Part-Boundary2-Condition   = reflective
Part-Boundary2-PhotonEnACC = 1.0

Part-Boundary3-SourceName  = BC_SYMMINUS
Part-Boundary3-Condition   = symmetric

Part-Boundary4-SourceName  = BC_SYMPLUS
Part-Boundary4-Condition   = symmetric

Part-Boundary5-SourceName  = BC_XMINUS
Part-Boundary5-Condition   = reflective

Part-Boundary6-SourceName  = BC_XPLUS
Part-Boundary6-Condition   = reflective

Part-Boundary7-SourceName  = BC_BOT
Part-Boundary7-Condition   = reflective
Part-Boundary7-PhotonEnACC = 0.0
Part-Boundary7-PhotonSpecularReflection = T

Part-FIBGMdeltas = (/ 0.001 , 0.0001 , 0.001 /)
Part-FactorFIBGM = (/ 15   , 1   , 15   /)

Part-Boundary$-BoundaryParticleOutput   = T
Part-Boundary$-PhotonSpecularReflection = F ! F: diffuse with PhotonEnACC, T: perfect mirror
Part-Boundary$-PhotonEnACC              = 1.0
! =============================================================================== !
! Ray Tracing
! =============================================================================== !
UseRayTracing                 = T
RayTracing-NumRays            = 500000
RayTracing-PartBound          = 2 ! -> iBC: 6
RayTracing-nSurfSample        = 3
RayTracing-nSamples           = 3 ! Number of samples per ray path for high-order sampling
PhotonModeBPO                 = 1 ! Debugging output: vectors
RayTracing-VolRefineMode      = 1
RayTracing-VolRefineModeZ     = 0.0
RayTracing-NMax               = 3
RayTracing-NodeType           = VISU_INNER
ConvertPointToCellData        = T
UsePhotonTriaTracking         = T

RayTracing-PulseDuration   = 15e-9
RayTracing-WaveLength      = 10e-9
RayTracing-PowerDensity    = 1.0
RayTracing-RepetitionRate  = 1000
RayTracing-RayDirection    = (/ 0.38268343236509 , 0.0 , -0.923879532511287 /)     ! 22.5deg angle
! =============================================================================== !
! Weighting Factor
! =============================================================================== !
Part-Species$-MacroParticleFactor = 1e7
! =============================================================================== !
! Species1 | H2
! =============================================================================== !
Part-Species1-MassIC                = 3.348E-27
Part-Species1-ChargeIC              = 0.0