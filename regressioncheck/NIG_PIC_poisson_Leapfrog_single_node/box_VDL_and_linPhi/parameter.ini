! =============================================================================== !
! EQUATION (linearscalaradvection)
! =============================================================================== !
IniExactFunc  = 0 ! empty
! =============================================================================== !
! DISCRETIZATION
! =============================================================================== !
Nmin          = 1
Nmax          = 3!2
N             = 1!,2,3  ! Polynomial degree
NVisu         = 2!4      ! Number of visualization points
pAdaptionType = 2      ! random (1): Nmin/Nmax randomly, non-periodic-BC (2): NMax for BC sides
pAdaptionBCLevel = -2,-1,1,2
readFEMconnectivity = T
! =============================================================================== !
! MESH
! =============================================================================== !
MeshFile      = box_mesh.h5 
useCurveds    = F
! =============================================================================== !
! OUTPUT / VISUALIZATION
! =============================================================================== !
ProjectName              = box
TrackingMethod           = triatracking
Logging                  = F
WriteErrorFiles          = F
printRandomSeeds         = F
DoCalcErrorNorms         = T
printMPINeighborWarnings = F
doPrintStatusLine        = F
! =============================================================================== !
! ANALYZE
! =============================================================================== !
CalcCoupledPower = T

CalcBoundaryParticleOutput = T
BPO-NPartBoundaries        = 2       ! Nbr of boundaries
BPO-PartBoundaries         = (/5,6/) ! Part-Boundary1 and Part-Boundary2
BPO-NSpecies               = 1       ! Nbr of species
BPO-Species                = (/1/)   ! electrons
! =============================================================================== !
! CALCULATION
! =============================================================================== !
DoLoadBalance        = T
DoInitialAutoRestart = T
ManualTimeStep       = 1e-11 ! 4.58E-11
tend                 = 100e-11 ! 6.87E-008
Analyze_dt           = 4.58E-8
CFLscale             = 0.1  ! Scaling of theoretical CFL number
IterDisplayStep      = 20!00
Part-AnalyzeStep     = 10
TimeStampLength      = 15
VisuParticles        = T
! =============================================================================== !
! Field Boundaries
! =============================================================================== !
BoundaryName    = BC_right
BoundaryType    = (/7,1/)          ! 7: Dirichlet with linear ramp 1st LinState
LinPhiBasePoint = (/1. , 0. , 0./) ! 1st LinState
LinPhiNormal    = (/0. , 0. , 1./) ! 1st LinState
LinPhiHeight    = 1.0              ! 1st LinState
LinPhi          = 0.0              ! 1st LinState

BoundaryName    = BC_left
BoundaryType    = (/7,2/)          ! 7: Dirichlet with linear ramp 2nd LinState
LinPhiBasePoint = (/0. , 0. , 0./) ! 2nd LinState
LinPhiNormal    = (/1. , 0. , 0./) ! 2nd LinState
LinPhiHeight    = 1.0              ! 2nd LinState
LinPhi          = 1e3              ! 2nd LinState
! =============================================================================== !
! Virtual Dielectric Layer (VDL)
! =============================================================================== !
PIC-DoDirichletDeposition      = F ! default is True
PIC-Deposition-Type            = 12 ! cell_volweight_mean (12)
Part-Boundary5-PermittivityVDL = 20.
Part-Boundary5-ThicknessVDL    = 10.

! =============================================================================== !
! Ray Tracing
! =============================================================================== !
UseRayTracing = T
!Particles-DSMC-CalcSurfaceVal = T ! activate InitParticleBoundarySampling
RayTracing-PartBound = 6 ! -> iBC=6 (BC_right)
RayTracing-NumRays = 2000!0
RayTracing-VolRefineMode = 0 ! 0: do nothing (default)
!                            ! 1: refine below user-defined z-coordinate with NMax
!                            ! 2: scale N according to the mesh element volume between NMin>=1 and NMax>=2
!                            ! 3: refine below user-defined z-coordinate and scale N according to the mesh element volume between NMin>=1 and NMax>=2
!                            !    (consider only elements below the user-defined z-coordinate for the scaling)
PhotonModeBPO = 1 ! [INT] Output mode to store position, direction, host element etc. of
!                 ! rays/photons in PartStateBoundary.h5 (only radiation transport or ray tracing
!                 ! solver):
!                 ! '0: Output nothing to PartStateBoundary.h5
!                 ! '1: Output the initial position of the rays and their direction vector
!                 ! '2: Output initial position and all calculated intersection points calculated in
!                 ! radtrans tracking

RayTracing-PulseDuration   = 15e-9
RayTracing-WaveLength      = 10e-9
RayTracing-PowerDensity    = 1.0e-4
RayTracing-RepetitionRate  = 1000
RayTracing-RayDirection    = (/ .0 , 1.0 , -1.0 /)

! SEE parameters
Part-Boundary5-PhotonSEE-WorkFunction    = 10.0
Part-Boundary5-PhotonSEE-Yield           = 0.1
Part-Boundary5-PhotonSEE-ElectronSpecies = 2
Part-Boundary5-PhotonEnACC = 1.0
! =============================================================================== !
! PARTICLES
! =============================================================================== !
Part-LorentzType = 0
!Part-maxParticleNumber = 5
Part-nSpecies          = 2

Part-FIBGMdeltas          = (/0.25,0.25,0.25/)
!PIC-Deposition-Type       = cell_volweight

Part-nBounds              = 6

Part-Boundary1-SourceName = BC_symmetryx-
Part-Boundary1-Condition  = symmetric!periodic

Part-Boundary2-SourceName = BC_symmetryx+
Part-Boundary2-Condition  = symmetric!periodic

Part-Boundary3-SourceName = BC_periodicy-
Part-Boundary3-Condition  = periodic

Part-Boundary4-SourceName = BC_periodicy+
Part-Boundary4-Condition  = periodic

Part-Boundary5-SourceName = BC_left
Part-Boundary5-Condition  = reflective
Part-Boundary5-SurfaceModel = 9 ! 9: SEE-I model yields an emission ratio of 0.01 probability
Part-Species1-PartBound5-ResultSpec = 1

Part-Boundary6-SourceName = BC_right
Part-Boundary6-Condition  = reflective
Part-Boundary6-NbrOfSpeciesSwaps = 1
Part-Boundary6-SpeciesSwaps1     = (/1,0/)

Part-nPeriodicVectors=1
!Part-nPeriodicVectors=2

! =============================================================================== !
! Averaging over e.g. 100 iterations and then null them
! =============================================================================== !
Part-WriteMacroValues             = T
Part-WriteMacroSurfaceValues      = T
Particles-DSMC-CalcSurfaceVal     = T
Part-IterationForMacroVal         = 50 ! 500: 5ns, 1000: 10ns, timestep=1e-11

! =============================================================================== !
! DSMC
! =============================================================================== !
UseDSMC                            = T
Part-TimeFracForSampling           = 0.0
Particles-DSMC-CollisMode          = 1 !(1:elast coll, 2: elast + rela, 3:chem)
Part-NumberOfRandomSeeds           = 2
Particles-RandomSeed1              = 1
Particles-RandomSeed2              = 2

Particles-HaloEpsVelo              = 3E4 ! 300E6

! =============================================================================== !
! HDG
! =============================================================================== !
epsCG       = 1e-6     !', 1.0E-6')
maxIterCG   = 10000 !'500'
PrecondType = 0!2,10 ! HDG CG Solver
!PrecondType = 10!2,10 ! PETSc

! =============================================================================== !
! Species1 | e
! =============================================================================== !
Part-Species1-ChargeIC               = -1.60217653E-19
Part-Species1-MassIC                 = 9.1093826E-31
Part-Species1-MacroParticleFactor    = 1.

Part-Species1-nInits   = 2

Part-Species1-Init1-SpaceIC                = cuboid
Part-Species1-Init1-velocityDistribution   = maxwell
Part-Species1-Init1-MWTemperatureIC        = 30000.0
Part-Species1-Init1-ParticleNumber         = 1500
Part-Species1-Init1-BasePointIC            = (/0. , 0. , 0.05/)
Part-Species1-Init1-BaseVector1IC          = (/0. , 1. , 0./)
Part-Species1-Init1-BaseVector2IC          = (/1. , 0. , 0./)
Part-Species1-Init1-CuboidHeightIC         = 0.001
Part-Species1-Init1-VeloIC                 = 200.0e6
Part-Species1-Init1-VeloVecIC              = (/0.,0.,-1./)
Part-Species1-Init1-Tempelec               = 300.0


Part-Species1-Init2-SpaceIC                = cuboid
Part-Species1-Init2-velocityDistribution   = maxwell
Part-Species1-Init2-MWTemperatureIC        = 30000000.0
Part-Species1-Init2-ParticleNumber         = 1500
Part-Species1-Init2-BasePointIC            = (/0.678 , 0.5, 0.025/)
Part-Species1-Init2-BaseVector1IC          = (/0.  , 0.3 , 0.2/)
Part-Species1-Init2-BaseVector2IC          = (/0.3 , 0.2 , 0.15/)
Part-Species1-Init2-CuboidHeightIC         = 0.01
Part-Species1-Init2-VeloIC                 = 200.0e6
Part-Species1-Init2-VeloVecIC              = (/1.,1.,-1./)
Part-Species1-Init2-Tempelec               = 300.0

! =============================================================================== !
! Species2 | also e
! =============================================================================== !
Part-Species2-ChargeIC               = -1.60217653E-19
Part-Species2-MassIC                 = 9.1093826E-31
Part-Species2-MacroParticleFactor    = 1.

! =============================================================================== !
! Species1, e
! =============================================================================== !
Part-Species1-SpeciesName       = electron
Part-Species1-InteractionID     = 4
Part-Species1-Tref              = 300
Part-Species1-dref              = 2.817920E-15
Part-Species1-omega             = 0.2

! =============================================================================== !
! Species2, also e
! =============================================================================== !
Part-Species2-SpeciesName       = electron
Part-Species2-InteractionID     = 4
Part-Species2-Tref              = 300
Part-Species2-dref              = 2.817920E-15
Part-Species2-omega             = 0.2
