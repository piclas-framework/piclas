# PICLas Tools

This is a loose collection of tools with respect to pre- and post-processing of various data.

| **Creation date** |               **Name**               |     **Language**    |                                                                                                                                           **Function (short description)**                                                                                                                                          |                                                            **Useful methods**                                                           |
|      :-----:      |   :-------------------------------:  |    :------------:   |                                                                                                                               :-----------------------------------------------------:                                                                                                                               |                                                       :-------------------------:                                                       |
|     2020-03-23    | calcElectricCurrentPartStateBoundary |        Python       |                                               Calculates the electric current deposited on a surface by summing all particle impacts (with corresponding charge) in the dataset 'PartData' in a given .h5 file by considering the temporal distance between two files                                               |                                                      read 'PartState' from .h5 file                                                     |
|     2013-10-21    |         cleanUp_stdOut_files         |        Python       |                                                                 Removes unwanted print statements from a std.out file (PICLas standard output) such as lost particle info (this is written to a .h5 file for viewing), the output of the statusline                                                                 | Remove lost particles from std.out file and write them to a .h5 file: .h5 State file creation from scratch with all required attributes |
|     2020-10-07    |          createCylinderHOPR          |        Python       |                                                                                            Script for creating a hopr.ini file to generate cylindrical meshes (quarter, half or full cylinder) with 1 cell in z-direction                                                                                           |                            hopr.ini file creation for cylinders, user input prompt and config file read/write                           |
|     2020-02-20    |         crosssection_database        |        Python       |                                                                                                                                                                                                                                                                                                                     |                                                                                                                                         |
|     2014-03-20    |            electronic_data           |   Shell and Python  |                                                                                                                                                                                                                                                                                                                     |                                                                                                                                         |
|     2019-10-31    |         find_switched_indices        |        Shell        |                                                     Search in all .f90 file recursively for occurrences of e.g. 'PartState(XXXX', where XXXX is a character string, because of the switched particle dimensions to consider how Fortran stores data column-based                                                    |                                                                                                                                         |
|     2019-12-18    |            flip_PartState            |        Python       |                                                                   Flips the dimensions of a 'PartState' container in one or more .h5 files to consider the changed dime123nsions of particle data to consider how Fortran stores data column-based                                                                  |                                                                                                                                         |
|     2020-05-12    |            h5_dataset_copy           |        Python       |                                                                                         Copies a dataset (e.g. PartData) from a .h5 state file to another file. Supply original datafile, target data file and dataset name.                                                                                        |                                                                                                                                         |
|     2016-04-20    |              loadbalance             |        Python       |                                                                                                                                                                                                                                                                                                                     |                                                                                                                                         |
|     2018-01-29    |              matplotlib              |        Python       |                                                                                                                                                                                                                                                                                                                     |                                                                                                                                         |
|     2019-10-15    |              merge_state             |        Python       | merges the datasets of multiple .h5 PICLas state files into a single file (considers 'SurfaceData', 'ElemData', 'DG_Solution', 'DG_Source' and 'PartData'). When '\_TimeAvg\_' files are supplied, the dataset values are automatically averaged in addition to being summed up. This can also be done with a flag. |                                                                                                                                         |
|     2015-2017     |               paraview               | Python, XML and CPD |                                                                                                            Collection of scripts and filters for ParaView, see [Link to ParaView Tools](#paraview-tools)                                                                                                            |                                                                                                                                         |
|     2018-11-20    |         plot_RitzSpectrum.py         |        Python       |                                                                                                                Plots the Ritz spectrum of a DMD file in the format PROJECT\_DMD\_Spec\_0000.00000.dat                                                                                                               |
|     2017-11-09    |               profiling              |   Shell and Python  |                                                                                                                                                                                                                                                                                                                     |                                                                                                                                         |
|     2019-07-08    |       RemoveTrailWhiteSpaces.sh      |        Shell        |                                                                                                                                                                                                                                                                                                                     |                                                                                                                                         |
|     2019-2020     |            Setup_ModuleEnv           |        Shell        |                                                                                                                                                                                                                                                                                                                     |                                                                                                                                         |
|     2019-04-15    |         test_max_warnings.sh         |        Shell        |                                                                                                                                                                                                                                                                                                                     |                                                                                                                                         |
|     2016-11-18    |               userblock              |   Shell and Python  |                                                                                                                                                                                                                                                                                                                     |                                                                                                                                         |
|     2019-10-22    |           visuBox_PartState          |        Python       |                                                                                                                                                                                                                                                                                                                     |                                                                                                                                         |

## ParaView Tools

List of custom ParaView filters.

| **Creation date** |               **Name**               |     **Type (Language)**                   |      **Function (short description)**                                                                                                                                                                   |    **Usage**                                                                               |     **Useful methods**                                                                                              |
|      :-----:      |   :-------------------------------:  |    :------------:                         |   :-----------------------------------------------------:                                                                                                                                               |     :-------------------------:                                                            |    :-------------------------:                                                                                      |
|     2015-12-17    |    coordtrafo                        |    Python                                 |      Coordinate transformation filter for converting Cartesian coordinates x, y and z of the DG_Solution in a .h5 State file to cylindrical or spherical coordinates                                    |    Load plugin via *Tools* -> *Manage Plugins* and apply to dataset                        |                                                                                                                     |
|     2015-10-23    |   diff_datafiles                     |    Python                                 |     Calculates the difference between to datasets                                                                                                                                                       |    Load filter via *Tools* -> *Manage Custom Filters* and apply to dataset                 |                                                                                                                     |
|     2017-06-06    |   ekinev                             |    Paraview Custom Filter (XML)           |     Calculates the kinetic energy (in eV) for datasets (usually point cloud particle data with position and velocity data)                                                                              |    Load filter via *Tools* -> *Manage Custom Filters* and apply to dataset                 |                                                                                                                     |
|     2015-12-17    |   homesh                             |    Paraview Custom Filter (XML)           |     Creates a high-order geometry from a .h5 mesh file (HOPR mesh file) sampled by user-specified polynomial degree (not the polynomial degree of the actual grid)                                      |    Load filter via *Tools* -> *Manage Custom Filters* and apply to dataset                 |                                                                                                                     |
|     2015-12-17    |   pdf                                |    Paraview Custom Plugin (Python)        |     Calculates the Probability Density Function (PDF) of a set of particles (usually point cloud particle data with position and velocity data) for a user-specified velocity and Cartesian coordinate  |    Load plugin via *Tools* -> *Manage Plugins* and apply to dataset                        |    python_filter_generator.py that creates a ParaView .cpd (Paraview Custom Filter (XML)) file from a .py script    |
|     2016-01-14    |   videos                             |    Python                                 |     Create  video by looping all *State*.h5 files (PICLas State files) with currently set-up ParaView Layout                                                                                            |    Create layout in Paraview and run script via *Tools* -> *Python Shell* -> *Run script*  |                                                                                                                     |

